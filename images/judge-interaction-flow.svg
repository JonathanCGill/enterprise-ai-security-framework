<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 380" width="850" height="380">
  <style>
    .title { font: bold 16px Arial, sans-serif; fill: #1e293b; }
    .heading { font: bold 11px Arial, sans-serif; }
    .body { font: 10px Arial, sans-serif; }
    .small { font: 9px Arial, sans-serif; }
  </style>
  
  <!-- Background -->
  <rect width="850" height="380" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="425" y="25" text-anchor="middle" class="title">Judge Evaluation — Interaction Flow</text>
  
  <!-- Step 1: Interaction -->
  <rect x="30" y="55" width="120" height="60" rx="6" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="90" y="80" text-anchor="middle" class="heading" fill="#4338ca">Interaction</text>
  <text x="90" y="95" text-anchor="middle" class="small" fill="#4338ca">User ↔ AI</text>
  <text x="90" y="107" text-anchor="middle" class="small" fill="#64748b">(logged)</text>
  
  <!-- Arrow 1→2 -->
  <line x1="150" y1="85" x2="185" y2="85" stroke="#475569" stroke-width="2"/>
  <polygon points="185,85 175,80 175,90" fill="#475569"/>
  
  <!-- Step 2: Sample Selection -->
  <rect x="190" y="55" width="120" height="60" rx="6" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2"/>
  <text x="250" y="80" text-anchor="middle" class="heading" fill="#475569">Sample?</text>
  <text x="250" y="95" text-anchor="middle" class="small" fill="#64748b">Based on tier:</text>
  <text x="250" y="107" text-anchor="middle" class="small" fill="#64748b">5-100%</text>
  
  <!-- Arrow: Not sampled (down) -->
  <line x1="250" y1="115" x2="250" y2="145" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,2"/>
  <polygon points="250,145 245,135 255,135" fill="#94a3b8"/>
  <text x="270" y="135" class="small" fill="#94a3b8">no</text>
  
  <rect x="190" y="150" width="120" height="35" rx="4" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1"/>
  <text x="250" y="172" text-anchor="middle" class="small" fill="#64748b">Log only (no eval)</text>
  
  <!-- Arrow: Sampled (right) -->
  <line x1="310" y1="85" x2="355" y2="85" stroke="#475569" stroke-width="2"/>
  <polygon points="355,85 345,80 345,90" fill="#475569"/>
  <text x="333" y="78" class="small" fill="#475569">yes</text>
  
  <!-- Step 3: Tier 1 Judge -->
  <rect x="360" y="45" width="140" height="80" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="430" y="70" text-anchor="middle" class="heading" fill="#1e40af">TIER 1</text>
  <text x="430" y="85" text-anchor="middle" class="body" fill="#1e40af">Standard Model</text>
  <line x1="375" y1="93" x2="485" y2="93" stroke="#93c5fd" stroke-width="1"/>
  <text x="430" y="108" text-anchor="middle" class="small" fill="#1e40af">Fast screen</text>
  <text x="430" y="120" text-anchor="middle" class="small" fill="#64748b">~$0.01 • &lt;2s</text>
  
  <!-- Branch point after Tier 1 -->
  <circle cx="540" cy="85" r="8" fill="#475569"/>
  <line x1="500" y1="85" x2="532" y2="85" stroke="#475569" stroke-width="2"/>
  
  <!-- Clear Pass (up-right) -->
  <line x1="545" y1="79" x2="600" y2="50" stroke="#22c55e" stroke-width="2"/>
  <polygon points="600,50 590,48 592,58" fill="#22c55e"/>
  <text x="560" y="55" class="small" fill="#22c55e">pass</text>
  
  <rect x="605" y="30" width="100" height="45" rx="4" fill="#dcfce7" stroke="#22c55e" stroke-width="1.5"/>
  <text x="655" y="50" text-anchor="middle" class="body" fill="#166534">Log</text>
  <text x="655" y="65" text-anchor="middle" class="small" fill="#166534">No action</text>
  
  <!-- Clear Fail (right) -->
  <line x1="548" y1="85" x2="600" y2="85" stroke="#ef4444" stroke-width="2"/>
  <polygon points="600,85 590,80 590,90" fill="#ef4444"/>
  <text x="575" y="78" class="small" fill="#ef4444">fail</text>
  
  <rect x="605" y="65" width="100" height="45" rx="4" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"/>
  <text x="655" y="85" text-anchor="middle" class="body" fill="#b91c1c">HITL Queue</text>
  <text x="655" y="100" text-anchor="middle" class="small" fill="#b91c1c">Immediate</text>
  
  <!-- Uncertain (down to Tier 2) -->
  <line x1="540" y1="93" x2="540" y2="160" stroke="#f59e0b" stroke-width="2"/>
  <polygon points="540,160 535,150 545,150" fill="#f59e0b"/>
  <text x="555" y="130" class="small" fill="#f59e0b">uncertain</text>
  
  <!-- Step 4: Tier 2 Judge -->
  <rect x="470" y="165" width="140" height="80" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="540" y="190" text-anchor="middle" class="heading" fill="#b45309">TIER 2</text>
  <text x="540" y="205" text-anchor="middle" class="body" fill="#b45309">Reasoning Model</text>
  <line x1="485" y1="213" x2="595" y2="213" stroke="#fcd34d" stroke-width="1"/>
  <text x="540" y="228" text-anchor="middle" class="small" fill="#92400e">Deep analysis</text>
  <text x="540" y="240" text-anchor="middle" class="small" fill="#64748b">~$0.50 • 10-30s</text>
  
  <!-- Branch point after Tier 2 -->
  <circle cx="540" cy="275" r="8" fill="#475569"/>
  <line x1="540" y1="245" x2="540" y2="267" stroke="#475569" stroke-width="2"/>
  
  <!-- Tier 2 Pass (left) -->
  <line x1="532" y1="275" x2="440" y2="275" stroke="#22c55e" stroke-width="2"/>
  <polygon points="440,275 450,270 450,280" fill="#22c55e"/>
  <text x="485" y="268" class="small" fill="#22c55e">pass</text>
  
  <rect x="320" y="255" width="115" height="45" rx="4" fill="#dcfce7" stroke="#22c55e" stroke-width="1.5"/>
  <text x="377" y="275" text-anchor="middle" class="body" fill="#166534">Log + Reasoning</text>
  <text x="377" y="290" text-anchor="middle" class="small" fill="#166534">Audit trail</text>
  
  <!-- Tier 2 Fail (right) -->
  <line x1="548" y1="275" x2="640" y2="275" stroke="#ef4444" stroke-width="2"/>
  <polygon points="640,275 630,270 630,280" fill="#ef4444"/>
  <text x="595" y="268" class="small" fill="#ef4444">fail</text>
  
  <rect x="645" y="255" width="115" height="45" rx="4" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"/>
  <text x="702" y="275" text-anchor="middle" class="body" fill="#b91c1c">HITL Queue</text>
  <text x="702" y="290" text-anchor="middle" class="small" fill="#b91c1c">With reasoning</text>
  
  <!-- HITL Section -->
  <rect x="720" y="130" width="110" height="70" rx="6" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="775" y="155" text-anchor="middle" class="heading" fill="#166534">HITL</text>
  <text x="775" y="172" text-anchor="middle" class="small" fill="#166534">Human reviews</text>
  <text x="775" y="187" text-anchor="middle" class="small" fill="#166534">Human decides</text>
  
  <!-- Arrow from immediate HITL to HITL box -->
  <line x1="705" y1="100" x2="720" y2="130" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3,2"/>
  
  <!-- Arrow from Tier 2 HITL to HITL box -->
  <line x1="760" y1="255" x2="775" y2="200" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3,2"/>
  
  <!-- Stats box -->
  <rect x="30" y="210" width="170" height="100" rx="4" fill="#ffffff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="115" y="230" text-anchor="middle" class="body" font-weight="bold" fill="#475569">Typical Flow (HIGH tier)</text>
  <text x="40" y="250" class="small" fill="#64748b">• 25% of interactions sampled</text>
  <text x="40" y="265" class="small" fill="#22c55e">• 70% pass at Tier 1</text>
  <text x="40" y="280" class="small" fill="#f59e0b">• 20% escalate to Tier 2</text>
  <text x="40" y="295" class="small" fill="#ef4444">• 10% route to HITL</text>
  
  <!-- Legend -->
  <rect x="30" y="320" width="280" height="50" rx="4" fill="#ffffff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="40" y="340" class="small" font-weight="bold" fill="#475569">Legend:</text>
  <line x1="90" y1="337" x2="110" y2="337" stroke="#22c55e" stroke-width="2"/>
  <text x="115" y="340" class="small" fill="#22c55e">Pass</text>
  <line x1="150" y1="337" x2="170" y2="337" stroke="#ef4444" stroke-width="2"/>
  <text x="175" y="340" class="small" fill="#ef4444">Fail</text>
  <line x1="205" y1="337" x2="225" y2="337" stroke="#f59e0b" stroke-width="2"/>
  <text x="230" y="340" class="small" fill="#f59e0b">Escalate</text>
  <line x1="40" y1="355" x2="60" y2="355" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,2"/>
  <text x="65" y="358" class="small" fill="#94a3b8">Not evaluated / internal routing</text>
</svg>
