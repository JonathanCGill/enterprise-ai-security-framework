<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b" text-anchor="middle">LLM-as-Judge: Assurance Model</text>
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Detection and monitoring, not prevention</text>
  
  <!-- Main Flow - Left Side -->
  <!-- Transaction Box -->
  <rect x="50" y="90" width="180" height="50" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="140" y="120" font-family="Arial, sans-serif" font-size="13" fill="#1e40af" text-anchor="middle">Transaction / Interaction</text>
  
  <!-- Arrow down -->
  <line x1="140" y1="140" x2="140" y2="170" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Guardrails Box -->
  <rect x="50" y="175" width="180" height="50" rx="8" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="140" y="198" font-family="Arial, sans-serif" font-size="13" fill="#166534" text-anchor="middle">Guardrails</text>
  <text x="140" y="214" font-family="Arial, sans-serif" font-size="10" fill="#166534" text-anchor="middle">(inline, fast, deterministic)</text>
  
  <!-- Arrow down -->
  <line x1="140" y1="225" x2="140" y2="255" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Primary AI Box -->
  <rect x="50" y="260" width="180" height="50" rx="8" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="140" y="290" font-family="Arial, sans-serif" font-size="13" fill="#4338ca" text-anchor="middle">Primary AI Executes</text>
  
  <!-- Arrow down -->
  <line x1="140" y1="310" x2="140" y2="340" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Output Delivered Box -->
  <rect x="50" y="345" width="180" height="50" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="140" y="375" font-family="Arial, sans-serif" font-size="13" fill="#1e40af" text-anchor="middle">Output Delivered</text>
  
  <!-- Arrow down -->
  <line x1="140" y1="395" x2="140" y2="425" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Logged Box -->
  <rect x="50" y="430" width="180" height="50" rx="8" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2"/>
  <text x="140" y="460" font-family="Arial, sans-serif" font-size="13" fill="#475569" text-anchor="middle">Logged</text>
  
  <!-- Divider Line -->
  <line x1="280" y1="80" x2="280" y2="520" stroke="#cbd5e1" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="290" y="540" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">REAL-TIME</text>
  <text x="320" y="540" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">|</text>
  <text x="340" y="540" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">AFTER-THE-FACT</text>
  
  <!-- Arrow from Logged to Judge -->
  <line x1="230" y1="455" x2="320" y2="455" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="275" y="445" font-family="Arial, sans-serif" font-size="9" fill="#64748b">async</text>
  
  <!-- Judge Section - Right Side -->
  <rect x="330" y="380" width="220" height="150" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="440" y="405" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309" text-anchor="middle">LLM-as-Judge</text>
  <text x="440" y="425" font-family="Arial, sans-serif" font-size="10" fill="#92400e" text-anchor="middle">(async, after-the-fact)</text>
  <line x1="345" y1="435" x2="535" y2="435" stroke="#fcd34d" stroke-width="1"/>
  <text x="355" y="455" font-family="Arial, sans-serif" font-size="11" fill="#78350f">• Evaluates against policy</text>
  <text x="355" y="475" font-family="Arial, sans-serif" font-size="11" fill="#78350f">• Flags anomalies</text>
  <text x="355" y="495" font-family="Arial, sans-serif" font-size="11" fill="#78350f">• Scores quality</text>
  <text x="355" y="515" font-family="Arial, sans-serif" font-size="11" fill="#78350f">• Detects patterns</text>
  
  <!-- Arrow from Judge to Findings -->
  <line x1="550" y1="455" x2="580" y2="455" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Findings Box -->
  <rect x="590" y="410" width="160" height="90" rx="8" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="670" y="440" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#b91c1c" text-anchor="middle">Findings</text>
  <text x="670" y="460" font-family="Arial, sans-serif" font-size="10" fill="#991b1b" text-anchor="middle">Red flags surfaced</text>
  <text x="670" y="480" font-family="Arial, sans-serif" font-size="10" fill="#991b1b" text-anchor="middle">for human review</text>
  
  <!-- Arrow up from Findings to Human -->
  <line x1="670" y1="410" x2="670" y2="340" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Human Oversight Box -->
  <rect x="570" y="240" width="200" height="95" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="3"/>
  <text x="670" y="270" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#166534" text-anchor="middle">Human Oversight</text>
  <line x1="585" y1="280" x2="755" y2="280" stroke="#86efac" stroke-width="1"/>
  <text x="670" y="300" font-family="Arial, sans-serif" font-size="11" fill="#166534" text-anchor="middle">Reviews findings</text>
  <text x="670" y="318" font-family="Arial, sans-serif" font-size="11" fill="#166534" text-anchor="middle">Decides action</text>
  <text x="670" y="336" font-family="Arial, sans-serif" font-size="11" fill="#166534" text-anchor="middle" font-weight="bold">Remains accountable</text>
  
  <!-- Actions from Human -->
  <rect x="330" y="100" width="420" height="110" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="540" y="125" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569" text-anchor="middle">Human Actions (if needed)</text>
  <line x1="345" y1="135" x2="735" y2="135" stroke="#e2e8f0" stroke-width="1"/>
  
  <text x="355" y="158" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Investigate individual issues</text>
  <text x="355" y="175" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Update guardrail rules</text>
  <text x="355" y="192" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Escalate to compliance</text>
  
  <text x="540" y="158" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Remediate customer harm</text>
  <text x="540" y="175" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Tune primary AI</text>
  <text x="540" y="192" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Update policies</text>
  
  <!-- Arrow from Human to Actions -->
  <line x1="670" y1="240" x2="670" y2="215" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Feedback arrow from Actions to Guardrails -->
  <path d="M 330 155 L 260 155 L 260 200 L 230 200" stroke="#94a3b8" stroke-width="1.5" fill="none" stroke-dasharray="4,2" marker-end="url(#arrowhead)"/>
  <text x="270" y="145" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">feedback</text>
  
  <!-- Key insight box -->
  <rect x="330" y="545" width="420" height="45" rx="6" fill="#eff6ff" stroke="#3b82f6" stroke-width="1"/>
  <text x="540" y="565" font-family="Arial, sans-serif" font-size="11" fill="#1e40af" text-anchor="middle" font-weight="bold">The Judge detects and informs. It does not decide or block.</text>
  <text x="540" y="580" font-family="Arial, sans-serif" font-size="10" fill="#3b82f6" text-anchor="middle">Humans remain accountable for all actions taken.</text>
</svg>
