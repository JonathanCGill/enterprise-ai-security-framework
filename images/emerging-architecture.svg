<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <marker id="arrow-light" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="700" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1e293b" text-anchor="middle">Emerging Controls Architecture</text>
  <text x="450" y="55" font-family="Arial, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Theoretical — Multimodal, Reasoning, Streaming, Multi-Agent</text>
  
  <!-- Status badge -->
  <rect x="380" y="65" width="140" height="22" rx="11" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
  <text x="450" y="80" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#b45309" text-anchor="middle">STATUS: THEORETICAL</text>
  
  <!-- Layer Labels -->
  <text x="25" y="180" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#64748b" transform="rotate(-90, 25, 180)">INPUT</text>
  <text x="25" y="340" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#64748b" transform="rotate(-90, 25, 340)">MODEL</text>
  <text x="25" y="480" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#64748b" transform="rotate(-90, 25, 480)">OUTPUT</text>
  <text x="25" y="620" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#64748b" transform="rotate(-90, 25, 620)">JUDGE</text>
  
  <!-- Horizontal dividers -->
  <line x1="50" y1="250" x2="870" y2="250" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="6,4"/>
  <line x1="50" y1="400" x2="870" y2="400" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="6,4"/>
  <line x1="50" y1="550" x2="870" y2="550" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="6,4"/>
  
  <!-- === INPUT LAYER === -->
  
  <!-- Text Guardrails -->
  <rect x="70" y="110" width="120" height="50" rx="6" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="130" y="132" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#166534" text-anchor="middle">Text</text>
  <text x="130" y="148" font-family="Arial, sans-serif" font-size="9" fill="#166534" text-anchor="middle">Established</text>
  
  <!-- Image Guardrails -->
  <rect x="200" y="110" width="120" height="50" rx="6" fill="#fef9c3" stroke="#eab308" stroke-width="2"/>
  <text x="260" y="132" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#a16207" text-anchor="middle">Image</text>
  <text x="260" y="148" font-family="Arial, sans-serif" font-size="9" fill="#a16207" text-anchor="middle">OCR + Classifier</text>
  
  <!-- Audio Guardrails -->
  <rect x="330" y="110" width="120" height="50" rx="6" fill="#fef9c3" stroke="#eab308" stroke-width="2"/>
  <text x="390" y="132" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#a16207" text-anchor="middle">Audio</text>
  <text x="390" y="148" font-family="Arial, sans-serif" font-size="9" fill="#a16207" text-anchor="middle">STT + Classifier</text>
  
  <!-- Cross-Modal -->
  <rect x="460" y="110" width="120" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="520" y="132" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Cross-Modal</text>
  <text x="520" y="148" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Research</text>
  
  <!-- State Validator -->
  <rect x="590" y="110" width="120" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="650" y="132" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">State Validator</text>
  <text x="650" y="148" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- Unified Decision -->
  <rect x="740" y="110" width="100" height="50" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="790" y="132" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1e40af" text-anchor="middle">Unified</text>
  <text x="790" y="148" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1e40af" text-anchor="middle">Decision</text>
  
  <!-- Arrows to unified -->
  <line x1="190" y1="160" x2="190" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="320" y1="160" x2="320" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="450" y1="160" x2="450" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="580" y1="160" x2="580" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="710" y1="160" x2="710" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="190" y1="200" x2="710" y2="200" stroke="#94a3b8" stroke-width="1"/>
  <line x1="450" y1="200" x2="450" y2="195" stroke="#94a3b8" stroke-width="1"/>
  <line x1="740" y1="135" x2="720" y2="135" stroke="#475569" stroke-width="2" marker-start="url(#arrow)"/>
  
  <!-- Input layer label -->
  <text x="380" y="235" font-family="Arial, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Modality-specific guardrails (parallel) → unified pass/block</text>
  
  <!-- === MODEL LAYER === -->
  
  <!-- Reasoning Capture -->
  <rect x="100" y="275" width="140" height="50" rx="6" fill="#fef9c3" stroke="#eab308" stroke-width="2"/>
  <text x="170" y="297" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#a16207" text-anchor="middle">Reasoning Capture</text>
  <text x="170" y="313" font-family="Arial, sans-serif" font-size="9" fill="#a16207" text-anchor="middle">Model-dependent</text>
  
  <!-- Stream Monitor -->
  <rect x="260" y="275" width="140" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="330" y="297" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Stream Monitor</text>
  <text x="330" y="313" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- Agent Boundary -->
  <rect x="420" y="275" width="140" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="490" y="297" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Agent Boundary</text>
  <text x="490" y="313" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- State Tracker -->
  <rect x="580" y="275" width="140" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="650" y="297" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">State Tracker</text>
  <text x="650" y="313" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- Primary AI -->
  <rect x="330" y="350" width="140" height="40" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="400" y="375" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e40af" text-anchor="middle">Primary AI</text>
  
  <!-- Arrow -->
  <line x1="400" y1="325" x2="400" y2="345" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- === OUTPUT LAYER === -->
  
  <!-- Text Output -->
  <rect x="70" y="420" width="110" height="50" rx="6" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="125" y="442" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#166534" text-anchor="middle">Text</text>
  <text x="125" y="458" font-family="Arial, sans-serif" font-size="9" fill="#166534" text-anchor="middle">Established</text>
  
  <!-- Image Output -->
  <rect x="190" y="420" width="110" height="50" rx="6" fill="#fef9c3" stroke="#eab308" stroke-width="2"/>
  <text x="245" y="442" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#a16207" text-anchor="middle">Image</text>
  <text x="245" y="458" font-family="Arial, sans-serif" font-size="9" fill="#a16207" text-anchor="middle">Synthetic det.</text>
  
  <!-- Audio Output -->
  <rect x="310" y="420" width="110" height="50" rx="6" fill="#fef9c3" stroke="#eab308" stroke-width="2"/>
  <text x="365" y="442" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#a16207" text-anchor="middle">Audio</text>
  <text x="365" y="458" font-family="Arial, sans-serif" font-size="9" fill="#a16207" text-anchor="middle">Synthetic det.</text>
  
  <!-- Stream Interruptor -->
  <rect x="430" y="420" width="130" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="495" y="442" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Stream Interrupt</text>
  <text x="495" y="458" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- State Checkpoint -->
  <rect x="570" y="420" width="120" height="50" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="630" y="442" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">State Checkpoint</text>
  <text x="630" y="458" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Conceptual</text>
  
  <!-- Output Decision -->
  <rect x="720" y="420" width="100" height="50" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="770" y="442" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1e40af" text-anchor="middle">Unified</text>
  <text x="770" y="458" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1e40af" text-anchor="middle">Decision</text>
  
  <!-- Arrows to unified -->
  <line x1="180" y1="470" x2="180" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="300" y1="470" x2="300" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="420" y1="470" x2="420" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="560" y1="470" x2="560" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="690" y1="470" x2="690" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="180" y1="505" x2="690" y2="505" stroke="#94a3b8" stroke-width="1"/>
  <line x1="720" y1="445" x2="700" y2="445" stroke="#475569" stroke-width="2" marker-start="url(#arrow)"/>
  
  <!-- === JUDGE LAYER === -->
  
  <!-- Transaction Mode -->
  <rect x="100" y="580" width="140" height="55" rx="6" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="170" y="602" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#166534" text-anchor="middle">Transaction Mode</text>
  <text x="170" y="618" font-family="Arial, sans-serif" font-size="9" fill="#166534" text-anchor="middle">Current / Established</text>
  
  <!-- Reasoning Mode -->
  <rect x="260" y="580" width="140" height="55" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="330" y="602" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Reasoning Mode</text>
  <text x="330" y="618" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Evaluate thinking</text>
  
  <!-- Longitudinal Mode -->
  <rect x="420" y="580" width="140" height="55" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="490" y="602" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">Longitudinal Mode</text>
  <text x="490" y="618" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Evaluate state drift</text>
  
  <!-- System Mode -->
  <rect x="580" y="580" width="140" height="55" rx="6" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="650" y="602" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#b91c1c" text-anchor="middle">System Mode</text>
  <text x="650" y="618" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c" text-anchor="middle">Multi-agent coord.</text>
  
  <!-- HITL -->
  <rect x="750" y="580" width="90" height="55" rx="6" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="795" y="605" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338ca" text-anchor="middle">HITL</text>
  <text x="795" y="622" font-family="Arial, sans-serif" font-size="9" fill="#4338ca" text-anchor="middle">Expanded</text>
  
  <!-- Arrow to HITL -->
  <line x1="720" y1="607" x2="745" y2="607" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Legend -->
  <rect x="70" y="655" width="15" height="15" rx="3" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
  <text x="92" y="667" font-family="Arial, sans-serif" font-size="10" fill="#475569">Established</text>
  
  <rect x="180" y="655" width="15" height="15" rx="3" fill="#fef9c3" stroke="#eab308" stroke-width="1"/>
  <text x="202" y="667" font-family="Arial, sans-serif" font-size="10" fill="#475569">Emerging</text>
  
  <rect x="280" y="655" width="15" height="15" rx="3" fill="#fee2e2" stroke="#ef4444" stroke-width="1"/>
  <text x="302" y="667" font-family="Arial, sans-serif" font-size="10" fill="#475569">Conceptual/Research</text>
  
  <!-- Logging arrow -->
  <path d="M 400 390 L 400 525 L 170 525 L 170 575" stroke="#94a3b8" stroke-width="1.5" fill="none" marker-end="url(#arrow-light)"/>
  <text x="290" y="540" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">Full multimodal + reasoning + state logging</text>
</svg>
